### ekf_filter_node config cho MangoMobileRobot ###
ekf_filter_node:
  ros__parameters:

    frequency: 50.0          # (sửa) EKF chạy 50Hz để theo kịp odom 100Hz
    two_d_mode: true
    publish_tf: true

    map_frame: map
    odom_frame: odom
    base_link_frame: base_link
    world_frame: odom

    odom0: /odomfromSTM32

    # Fuse: x, y, yaw, vx, vyaw (không fuse vy)
    odom0_config: [true,  true,  false,
                   false, false, true,
                   true,  false, false,
                   false, false, true,
                   false, false, false]

    odom0_differential: false
    odom0_relative: false
    odom0_queue_size: 10     # (sửa) 10–20 là đủ, tránh queue quá lớn gây trễ